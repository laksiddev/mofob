<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="messagingAdapterConfiguration" type="Open.MOF.Messaging.Configuration.AdapterConfigurationSettings, Open.MOF.Messaging, Version=0.7.0.0, Culture=neutral, PublicKeyToken=null" />
  </configSections>
  <messagingAdapterConfiguration>
    <adapterConfigurationItems>
      <add name="EsbOneWayMessagingAdapterDefinition" adapterInterfaceName="TransactionService" adapterTypeName="Open.MOF.BizTalk.Adapters.EsbMessagingAdapter, Open.MOF.BizTalk, Version=0.7.0.0, Culture=neutral, PublicKeyToken=null" channelEndpointName="myOneWayMessagingServiceBinding" preferenceNumber="2" />
      <add name="EsbOneWayBundledMessagingAdapterDefinition" adapterInterfaceName="TransactionService" adapterTypeName="Open.MOF.BizTalk.Adapters.EsbMessagingAdapter, Open.MOF.BizTalk, Version=0.7.0.0, Culture=neutral, PublicKeyToken=null" channelEndpointName="myOneWayBundledMessagingServiceBinding" preferenceNumber="4" />
      <add name="EsbTwoWayMessagingAdapterDefinition" adapterInterfaceName="TransactionService" adapterTypeName="Open.MOF.BizTalk.Adapters.EsbMessagingAdapter, Open.MOF.BizTalk, Version=0.7.0.0, Culture=neutral, PublicKeyToken=null" channelEndpointName="myTwoWayMessagingServiceBinding" preferenceNumber="3" />
      <add name="EsbTwoWayBundledMessagingAdapterDefinition" adapterInterfaceName="TransactionService" adapterTypeName="Open.MOF.BizTalk.Adapters.EsbMessagingAdapter, Open.MOF.BizTalk, Version=0.7.0.0, Culture=neutral, PublicKeyToken=null" channelEndpointName="myTwoWayBundledMessagingServiceBinding" preferenceNumber="5" />
      <add name="EsbExceptionAdapterDefinition" adapterInterfaceName="ExceptionService" adapterTypeName="Open.MOF.BizTalk.Adapters.EsbExceptionAdapter, Open.MOF.BizTalk, Version=0.7.0.0, Culture=neutral, PublicKeyToken=null" channelEndpointName="myExceptionServiceBinding" preferenceNumber="14" />
      <add name="EsbItinarayLookupServiceTcpDefinition" adapterInterfaceName="DataService" adapterTypeName="Open.MOF.Messaging.Adapters.WcfClientMessagingAdapter, Open.MOF.Messaging, Version=0.7.0.0, Culture=neutral, PublicKeyToken=null" channelEndpointName="myItineraryLookupServiceTcpBinding" preferenceNumber="1" />
    </adapterConfigurationItems>
  </messagingAdapterConfiguration>
  <system.web>
    <compilation debug="true" />
  </system.web>
  <!-- When deploying the service library project, the content of the config file must be added to the host's 
  app.config file. System.Configuration does not support config files for libraries. -->
  <system.serviceModel>
    <bindings>
      <wsHttpBinding>
        <binding name="wsHttpBindingConfig" closeTimeout="00:01:00"
         openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
         bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard"
         maxBufferPoolSize="524288" maxReceivedMessageSize="65536" messageEncoding="Text"
         textEncoding="utf-8" useDefaultWebProxy="true" allowCookies="false">
          <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
           maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <reliableSession ordered="true" inactivityTimeout="00:10:00"
           enabled="false" />
          <security mode="Message">
            <transport clientCredentialType="Windows" proxyCredentialType="None"
             realm="" />
            <message clientCredentialType="Windows" negotiateServiceCredential="true"
             algorithmSuite="Default" establishSecurityContext="true" />
          </security>
        </binding>
        <binding name="anonymousWSHttpBinding"
              maxBufferPoolSize="524288"
              maxReceivedMessageSize="65536"
              allowCookies="false">
          <security mode="None" />
        </binding>
      </wsHttpBinding>
    </bindings>
    <client>
      <endpoint address="http://demobiztalk.demo.local:8001/ESB.ItineraryServices.WCF/ProcessItinerary.svc"
                binding="wsHttpBinding" bindingConfiguration="wsHttpBindingConfig" 
                contract="MOF.BizTalkESB.IProcessRequest"
                name="myOneWayMessagingServiceBinding" />
      <endpoint address="http://demobiztalk.demo.local:8001/ESB.ItineraryServices.WCF/ProcessItinerary.svc"
                binding="wsHttpBinding" bindingConfiguration="wsHttpBindingConfig" 
                contract="MOF.BizTalkESB.Bundled.IProcessRequest"
                name="myOneWayBundledMessagingServiceBinding" />
      <endpoint address="http://demobiztalk.demo.local:8001/ESB.ItineraryServices.Response.WCF/ProcessItinerary.svc"
                binding="wsHttpBinding" bindingConfiguration="wsHttpBindingConfig" 
                contract="MOF.BizTalkESB.IProcessRequestResponse"
                name="myTwoWayMessagingServiceBinding" />
      <endpoint address="http://demobiztalk.demo.local:8001/ESB.ItineraryServices.Response.WCF/ProcessItinerary.svc"
                binding="wsHttpBinding" bindingConfiguration="wsHttpBindingConfig" 
                contract="MOF.BizTalkESB.Bundled.IProcessRequestResponse"
                name="myTwoWayBundledMessagingServiceBinding" />
      <endpoint address="http://demobiztalk.demo.local:8001/ESB.ExceptionHandlingServices.WCF/ExceptionHandling.svc"
                binding="wsHttpBinding" bindingConfiguration="wsHttpBindingConfig" 
                contract="MOF.BizTalkESB.IExceptionHandling"
                name="myExceptionServiceBinding" />
      <endpoint address="http://demobiztalk.demo.local:8001/ItineraryLookupService/ItineraryLookupService.svc"
                binding="wsHttpBinding" bindingConfiguration="wsHttpBindingConfig" 
                contract="MOF.BizTalkESB.IItineraryLookupService"
                name="myItineraryLookupServiceBinding" />
      <endpoint address="net.tcp://demobiztalk.demo.local/ItineraryLookupService/ItineraryLookupService.svc"        
                binding="netTcpBinding" bindingConfiguration=""         
                contract="MOF.BizTalkESB.IItineraryLookupService"        
                name="myItineraryLookupServiceTcpBinding" />
    </client>
    <services>
      <service name="Open.MOF.SampleService.TestDataService" behaviorConfiguration="MofobSampleService.Service1Behavior">
        <!-- <host>
          <baseAddresses>
            <add baseAddress = "http://localhost:8791/Open/MOF/TestDataService/" />
          </baseAddresses>
        </host> -->
        <!-- Service Endpoints -->
        <!-- Unless fully qualified, address is relative to base address supplied above -->
        <endpoint address="" binding="wsHttpBinding" contract="Open.MOF.SampleService.ITestDataService"
		bindingConfiguration="anonymousWSHttpBinding">
          <!-- anonymousWSHttpBinding wsHttpBindingConfig
              Upon deployment, the following identity element should be removed or replaced to reflect the 
              identity under which the deployed service runs.  If removed, WCF will infer an appropriate identity 
              automatically.
          -->
	  <!--
          <identity>
            <dns value="localhost"/>
          </identity>
          -->
        </endpoint>
        <!-- Metadata Endpoints -->
        <!-- The Metadata Exchange endpoint is used by the service to describe itself to clients. --> 
        <!-- This endpoint does not use a secure binding and should be secured or removed before deployment -->
        <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
	<!--
        <endpoint address=""
         binding="netTcpBinding" bindingConfiguration="" name="ITestDataServiceTcp"
         contract="Open.MOF.SampleService.ITestDataService" />
        -->
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="MofobSampleService.Service1Behavior">
          <!-- To avoid disclosing metadata information, 
          set the value below to false and remove the metadata endpoint above before deployment -->
          <serviceMetadata httpGetEnabled="True"/>
          <!-- To receive exception details in faults for debugging purposes, 
          set the value below to true.  Set to false before deployment 
          to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="True" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>
</configuration>
