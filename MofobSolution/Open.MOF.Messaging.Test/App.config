<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="messagingServiceConfiguration" type="Open.MOF.Messaging.Configuration.ServiceConfigurationSettings, Open.MOF.Messaging, Version=0.6.0.0, Culture=neutral, PublicKeyToken=null" />
	<section name="wcfEndpointConfiguration" type="Open.MOF.Messaging.Configuration.WcfEndpointConfigurationSettings, Open.MOF.Messaging, Version=0.6.0.0, Culture=neutral, PublicKeyToken=null" />
  </configSections>
  <messagingServiceConfiguration>
    <serviceConfigurationItems>
      <add name="WcfClientMessagingDataServiceDefinition" serviceInterfaceName="DataService" serviceTypeName="Open.MOF.Messaging.Services.WcfClientMessagingService, Open.MOF.Messaging, Version=0.6.0.0, Culture=neutral, PublicKeyToken=null" serviceBindingName="myDataServiceBinding" preferenceNumber="1" />
      <add name="WcfClientMessagingTransactionServiceDefinition" serviceInterfaceName="TransactionService" serviceTypeName="Open.MOF.Messaging.Services.WcfClientMessagingService, Open.MOF.Messaging, Version=0.6.0.0, Culture=neutral, PublicKeyToken=null" serviceBindingName="myTransactionServiceBinding" preferenceNumber="1" />
    </serviceConfigurationItems>
  </messagingServiceConfiguration>
	<wcfEndpointConfiguration>
		<wcfEndpointConfigurationItems>
			<add bindingName="WSHttpBinding_ITestDataService" endpointInterfaceName="Open.MOF.Messaging.Test.WcfService.ITestDataService, Open.MOF.Messaging.Test, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
			<add bindingName="WSHttpBinding_ITestDataService_ClientProxy" endpointInterfaceName="Open.MOF.Messaging.Test.WcfServiceProxyReference.ITestDataService, Open.MOF.Messaging.Test, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
		</wcfEndpointConfigurationItems>
	</wcfEndpointConfiguration>
	<system.serviceModel>
		<bindings>
   <wsHttpBinding>
    <binding name="WSHttpBinding_ITestDataService" closeTimeout="00:01:00"
     openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
     bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard"
     maxBufferPoolSize="524288" maxReceivedMessageSize="65536" messageEncoding="Text"
     textEncoding="utf-8" useDefaultWebProxy="true" allowCookies="false">
     <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
      maxBytesPerRead="4096" maxNameTableCharCount="16384" />
     <reliableSession ordered="true" inactivityTimeout="00:10:00"
      enabled="false" />
     <security mode="Message">
      <transport clientCredentialType="Windows" proxyCredentialType="None"
       realm="" />
      <message clientCredentialType="Windows" negotiateServiceCredential="true"
       algorithmSuite="Default" establishSecurityContext="true" />
     </security>
    </binding>
   </wsHttpBinding>
  </bindings>
		<client>
   <endpoint address="http://localhost:8931/WcfServiceProject/TestDataService/"
    binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_ITestDataService"
    contract="Open.MOF.Messaging.Test.WcfService.ITestDataService"
    name="WSHttpBinding_ITestDataService">
    <identity>
     <dns value="localhost" />
    </identity>
   </endpoint>
   <endpoint address="http://localhost:8931/WcfServiceProject/TestDataService/"
    binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_ITestDataService"
    contract="WcfServiceProxyReference.ITestDataService" name="WSHttpBinding_ITestDataService_ClientProxy">
    <identity>
     <dns value="localhost" />
    </identity>
   </endpoint>
  </client>
		<services>
			<service name="Open.MOF.Messaging.Test.WcfService.TestDataService" behaviorConfiguration="WcfServiceProject.Service1Behavior">
				<host>
					<baseAddresses>
						<add baseAddress="http://localhost:8931/WcfServiceProject/TestDataService/"   />
					</baseAddresses>
				</host>
				<!-- Service Endpoints -->
				<!-- Unless fully qualified, address is relative to base address supplied above -->
				<endpoint address=""  binding="wsHttpBinding" contract="Open.MOF.Messaging.Test.WcfService.ITestDataService">
					<!-- 
						  Upon deployment, the following identity element should be removed or replaced to reflect the 
						  identity under which the deployed service runs.  If removed, WCF will infer an appropriate identity 
						  automatically.
					  -->
					<identity>
						<dns value="localhost"/>
					</identity>
				</endpoint>
				<!-- Metadata Endpoints -->
				<!-- The Metadata Exchange endpoint is used by the service to describe itself to clients. -->
				<!-- This endpoint does not use a secure binding and should be secured or removed before deployment -->
				<!-- <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/> -->
			</service>
		</services>
		<behaviors>
			<serviceBehaviors>
				<behavior name="WcfServiceProject.Service1Behavior">
					<!-- To avoid disclosing metadata information, 
						  set the value below to false and remove the metadata endpoint above before deployment -->
					<!-- <serviceMetadata httpGetEnabled="True"/> -->
					<!-- To receive exception details in faults for debugging purposes, 
						  set the value below to true.  Set to false before deployment 
						  to avoid disclosing exception information -->
					<serviceDebug includeExceptionDetailInFaults="False" />
				</behavior>
			</serviceBehaviors>
		</behaviors>
	</system.serviceModel>
</configuration>